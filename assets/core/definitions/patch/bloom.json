{
  "group_name": "bloom",
  "source_name": "bloom.fx",

  "entrypoints": {
    "main_vs": {
      "stage": "vertex",

      "vertex_state": {
        "generic_input": {
          "dynamic_compression": false,
          "position": false,
          "skinned": false,
          "normal": false,
          "tangents": false,
          "color": false,
          "texture_coords": false
        }
      },

      "defines": [
        [ "BLOOM_ACTIVE", "false" ],
        [ "BLOOM_USE_DIRT", "false" ],
        [ "STOCK_HDR_STATE", "false" ],
        [ "VIGNETTE_ACTIVE", "false" ],
        [ "FILM_GRAIN_ACTIVE", "false" ],
        [ "FILM_GRAIN_COLORED", "false" ]
      ]
    },

    "downsample_ps": {
      "stage": "pixel",

      "pixel_state": {
        "lighting": false
      },

      "defines": [
        [ "BLOOM_ACTIVE", "false" ],
        [ "BLOOM_USE_DIRT", "false" ],
        [ "STOCK_HDR_STATE", "false" ],
        [ "VIGNETTE_ACTIVE", "false" ],
        [ "FILM_GRAIN_ACTIVE", "false" ],
        [ "FILM_GRAIN_COLORED", "false" ]
      ]
    },

    "upsample_ps": {
      "stage": "pixel",

      "pixel_state": {
        "lighting": false
      },

      "defines": [
        [ "BLOOM_ACTIVE", "false" ],
        [ "BLOOM_USE_DIRT", "false" ],
        [ "STOCK_HDR_STATE", "false" ],
        [ "VIGNETTE_ACTIVE", "false" ],
        [ "FILM_GRAIN_ACTIVE", "false" ],
        [ "FILM_GRAIN_COLORED", "false" ]
      ]
    },

    "threshold_ps": {
      "stage": "pixel",

      "pixel_state": {
        "lighting": false
      },

      "static_flags": [ 
        "STOCK_HDR_STATE"
      ],

      "defines": [
        [ "BLOOM_ACTIVE", "false" ],
        [ "BLOOM_USE_DIRT", "false" ],
        [ "VIGNETTE_ACTIVE", "false" ],
        [ "FILM_GRAIN_ACTIVE", "false" ],
        [ "FILM_GRAIN_COLORED", "false" ]
      ]
    }
  },

  "rendertypes": { "bloom": {} },

  "states": {
    "downsample": {
      "type": "standard",

      "vertex_shader": {
        "entrypoint": "main_vs"
      },

      "pixel_shader": {
        "entrypoint": "downsample_ps"
      }
    },

    "upsample": {
      "type": "standard",

      "vertex_shader": {
        "entrypoint": "main_vs"
      },

      "pixel_shader": {
        "entrypoint": "upsample_ps"
      }
    },

    "downsample threshold": {
      "type": "standard",

      "vertex_shader": {
        "entrypoint": "main_vs"
      },

      "pixel_shader": {
        "entrypoint": "threshold_ps",

        "static_flags": {
          "STOCK_HDR_STATE": false
        }
      }
    },

    "downsample threshold stock hdr": {
      "type": "standard",

      "vertex_shader": {
        "entrypoint": "main_vs"
      },

      "pixel_shader": {
        "entrypoint": "threshold_ps",

        "static_flags": {
          "STOCK_HDR_STATE": true
        }
      }
    }
  }
}